MIP是用CDN做加速的么？准确答案是：是，但不只是。
MIP全称Mobile Instant Pages，移动网页加速器，是百度提出的页面加速解决方案。MIP从前端渲染和页面网络传输两方面进行优化，杜绝页面渲染中的阻塞问题，提升页面展现速度。
## 页面渲染耗时与MIP加速原则

页面渲染耗时主要分为以下三类：**DNS解析耗时，网络传输耗时，浏览器渲染重绘耗时**。
MIP加速的基本原理就是减少各个步骤的耗时：

为减少DNS解析，MIP-Cache将静态文件以相对路径储存在百度CDN中；
为减少网络传输耗时，MIP-JS 控制静态资源的按需加载，MIP-Cache系统优先从CDN读取文件；
为减少浏览器渲染重绘耗时，MIP-HTML 对`<img>`,`<video>`等造成浏览器重绘的标签进行了封装控制。 下文将对MIP的三大组成部分MIP-HTML, MIP-JS, MIP-Cache进行详细介绍。

## MIP-HTML 组件加速原理

MIP-HTML 规范中有两类标签，一类是HTML常规标签，另一类是MIP标签（MIP-HTML 组件）。在MIP规范中，类似`<img>`等会引起浏览器重绘的标签应被替换成`<mip-img>`, 利用懒加载和按需加载提高页面的渲染速度。

MIP-HTML除了对浏览器原生标签的封装，还有一类自定义交互组件。比如图片轮播组件，表单组件，分享组件等。这些组件依赖MIP-JS和自身脚本即可运行，不需要引用第三方库。引用MIP自定义组件的而好处在于，页面开发时无需引入jquery，bootstrap等体积庞大的库，减少页面发送的网络请求及传输时间，加快网页的传输和渲染。

## MIP-JS 加速原理

MIP-JS是MIP的运行环境，接管了MIP页的生命周期，脚本加载及页面渲染。具体来说，MIP-JS包括基础类引入（AMD），内置组件加载（mip-img），外置组件管理（组件css插入）以及组件布局管理（解决布局兼容性问题）。

MIP-JS选择使用精简的基础类，尽量减少网络传输时间；内置优秀的组件，在不阻塞浏览器渲染的前提下提供最好的交互体验；提供组件布局管理，预先为组件设定宽高，避免组件加载后的浏览器重布局。

## MIP-Cache 缓存加速原理

MIP-Cache 通过CDN(Content Delivery Network)服务器缓存静态MIP页面。当用户访问MIP页面时，请求首先会发到CDN服务器，如果页面存在，则从CDN直接返回静态页面；如果页面不存在，则会请求第三方服务器。返回的页面的同时加入MIP-Cache。

在使用MIP Cache时，MIP页面引用的所有静态文件和外部资源都会被替换成相对地址，缓存到CDN上。尽可能减少了DNS解析时间和网络请求时间。

总的来说，MIP除了CDN加速，还针对浏览器渲染和网络加载做了优化。改版网站的数据表明，页面加载速度提升了30-80%。更快的打开速度意味着更少的用户等待和放弃，更好的用户体验。欲了解更多详情，欢迎到[MIP官网](https://www.mipengine.org)，与我们一同建立秒开的移动页面。